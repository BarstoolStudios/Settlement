#include <ctime>
#include <cmath>
#include "Util/GameTimer.h"

//==============================================================================
// Constructor
//==============================================================================
GameTimer::GameTimer() {
	lastFrame = getTime();
}

//==============================================================================
// Gets System Time in Milliseconds
//==============================================================================
double GameTimer::getTime() {
	return (double) time(0) / 1000000.0f;
}

//==============================================================================
// Returns delta
//==============================================================================
double GameTimer::getDelta() {
	return delta;
}

//==============================================================================
// Returns fps
//==============================================================================
int GameTimer::getFPS() {
	return fps;
}

//==============================================================================
// Updates delta and fps
//==============================================================================
void GameTimer::update() {
	double currentTime = getTime();
	delta = currentTime - lastFrame;
	fps = (int)round(1000/delta);
	lastFrame = getTime();
}